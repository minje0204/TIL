# 2024.05.06

**오늘 알게된 내용**

- ORM의 존재 이유(feat. 패러다임 불일치)

**계기 및 알게된 점**
JPA의 어려운 진입장벽과 지식없이 사용할 경우 어려운 SQL 트러블슈팅으로 인해서 JPA 사용을 꺼려하고 있었고 이러한 개인적인 이유로 인해 새로운 사이드 프로젝트를 시작하며 JOOQ를 사용하려고 했다.
이번 사이드 프로젝트를 진행하기 전 "객체지향의 사실과 오해"라는 책을 읽고 감명을 받아 최대한 객체지향적인 설계를 해보자라고 생각을 했었는데, 이 JOOQ가 나의 발목을 잡았다.

테이블 설계를 하고 난 후 비즈니스로직에 대한 기능개발에 들어 갔는데, 데이터의 흐름은 아래와 같이 흘러 갔다.

```
ERD -> 스키마 -> JOOQ Pojo(Code generation) -> 도메인 로직용 중간 객체 -> DTO 응답
```

문제는 **JOOQ Pojo -> 도메인로직용 중간 객체** 에서 발생했다. 나중에 제대로 알게 되었지만, 김영한님의 JPA책 챕터1에 나오는 객체지향과 관계형DB간의 **패러다임의 불일치** 문제였다.

**패러다임의 불일치**
OOP에서는 객체간 상호작용은 모두 참조를 통해서 가능하다. `objectA.getB()`와 같은 형태이다.
하지만 RDB에서 Object A와 B사이간 관계는 A 테이블에 칼럼으로 존재하는 B_PK를 통해 Join연산으로 이루어진다.
이로 인해 파생되는 불일치를 해결하기 위해 개발자는 수많은 코드를 작성해주어야 한다.
